package com.bluepal.service.impl;

import com.bluepal.dto.PartyResponseDTO;
import com.bluepal.entity.Party;
import com.bluepal.repository.PartyRepository;
import com.bluepal.service.PartyService;

import lombok.RequiredArgsConstructor;
import org.springframework.stereotype.Service;

import java.util.List;
import java.util.Optional;

@Service
@RequiredArgsConstructor
public class PartyServiceImpl implements PartyService{

    private final PartyRepository partyRepo;

    // Save Party
    public Party saveParty(Party party) {
        return partyRepo.save(party);
    }

    // Find by ID
    public Optional<Party> findById(Long id) {
        return partyRepo.findById(id);
    }

    // Find by Name
    public Optional<Party> findByName(String name) {
        return partyRepo.findByName(name);
    }

    // Get all Parties
    public List<Party> findAll() {
        return partyRepo.findAll();
    }

    // Delete Party
    public void deleteParty(Long id) {
        partyRepo.deleteById(id);
    }

    // Map Party â†’ DTO (used by controller)
    public PartyResponseDTO mapToDTO(Party party) {
        return PartyResponseDTO.builder()
                .id(party.getId())
                .name(party.getName())
                .description(party.getDescription())
                .logo(party.getLogo())
                .build();
    }
}
